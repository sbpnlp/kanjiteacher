function Map(){this.keys=new Object()}Map.prototype.put=function(A,B){if(B==null){B=A}this.keys[A]=B};Map.prototype.get=function(B){var A=this.keys[B];return(typeof (A)=="undefined"||(A==undefined))?null:A};if(typeof (AdaptiveBlue)=="undefined"){AdaptiveBlue={};var JS_BASE="http://s1.adaptiveblue.com/js/glue_widgets/";var OLD_JS="bluelink-window-old.js";var NEW_JS="glue-smartlinks.js";var TIP_JS="tip-smartlinks.js";var OLD_DEPS=[JS_BASE+"jquery.js?v=2"];var NEW_DEPS=[JS_BASE+"jquery.js?v=2",JS_BASE+"protocol.js"];var TIP_DEPS=[JS_BASE+"jquery.js?v=2",JS_BASE+"protocol.js"];var IGNORED_SITES=["www.nytimes.com","nytimes.com","www.sethgodin.com","sethgodin.com","www.thrillerwriters.org","thrillerwriters.org","www.wisn.com","wisn.com"];AdaptiveBlue.Loader=new function(){this.loadScript=function(G){var F=document.createElement("script");F.setAttribute("type","text/javascript");F.setAttribute("src",G);document.getElementsByTagName("head")[0].appendChild(F)};this.loadSmartlinkScript=function(){var J=B(document);var H=E(J);var I=D(H,"blueSiteId","");var G=D(H,"newLook",I==""?"yes":"no");if(A()&&typeof jQuery=="function"){OLD_DEPS=[];NEW_DEPS=[JS_BASE+"protocol.js"];TIP_DEPS=[JS_BASE+"protocol.js"]}if(!C(window.location.hostname)){for(var F=0;F<TIP_DEPS.length;F++){AdaptiveBlue.Loader.loadScript(TIP_DEPS[F])}AdaptiveBlue.Loader.loadScript(JS_BASE+TIP_JS+"?"+J)}else{if(G=="yes"){for(var F=0;F<NEW_DEPS.length;F++){AdaptiveBlue.Loader.loadScript(NEW_DEPS[F])}AdaptiveBlue.Loader.loadScript(JS_BASE+NEW_JS+"?"+J)}else{for(var F=0;F<OLD_DEPS.length;F++){AdaptiveBlue.Loader.loadScript(OLD_DEPS[F])}AdaptiveBlue.Loader.loadScript(JS_BASE+OLD_JS+"?"+J)}}};function C(F){for(var G=0;G<IGNORED_SITES.length;G++){if(IGNORED_SITES[G]==F){return true}}return false}function A(){var F=window.location.hostname;return F.indexOf("simondemo.info")!=-1||F.indexOf("simonandschuster.")!=-1}function D(F,G,H){return F.get(G)!=null?F.get(G):(window[G]!=null?window[G]:H)}function B(I){var G=I.getElementsByTagName("script");if(G!=null){for(var H=0;H<G.length;H++){var J=G[H].getAttribute("src");if(J!=null&&J.indexOf("bluelink-window.js")!=-1){var F=J.indexOf("?");if(F!=-1){return J.substring(F+1)}}}}return""}function E(I){var H=new Map();var G=I.split("&");for(var F=0;F<G.length;F++){var J=G[F].split("=");H.put(J[0],J[1])}return H}};if(window.blueSkipDefer=="yes"){AdaptiveBlue.Loader.loadSmartlinkScript()}else{if(navigator.userAgent.toLowerCase().indexOf("safari")!=-1){var timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(timer);AdaptiveBlue.Loader.loadSmartlinkScript()}},10)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){AdaptiveBlue.Loader.loadSmartlinkScript();this.removeEventListener("DOMContentLoaded",arguments.callee,false)},false)}else{if(window.attachEvent){window.attachEvent("onload",function(){AdaptiveBlue.Loader.loadSmartlinkScript();this.detachEvent("onload",arguments.callee)})}}}}};